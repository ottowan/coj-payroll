{"ast":null,"code":"var _jsxFileName = \"D:\\\\coj-payroll\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState } from \"react\";\nimport MainHOC from \"../component/main.hoc\";\nimport fetch from \"unfetch\";\nimport { ToastsContainer, ToastsStore, ToastsContainerPosition } from \"react-toasts\"; // const customStyles = {\n//   content: {\n//     top: \"50%\",\n//     left: \"50%\",\n//     right: \"auto\",\n//     bottom: \"center\",\n//     marginRight: \"-50%\",\n//     transform: \"translate(-50%, -50%)\",\n//   },\n// };\n// Modal.setAppElement(\"#my_modal\");\n// const modalRedText = { color: \"#f00\" };\n// const modalInfoText = { color: \"#29b6f6\" };\n\nconst Index = props => {\n  /*Start modal*/\n  // var subtitle;\n  // const [modalIsOpen, setIsOpen] = React.useState(false);\n  // function openModal() {\n  //   setIsOpen(true);\n  // }\n  // function afterOpenModal() {\n  //   // references are now sync'd and can be accessed.\n  //   // if (responseStatus) {\n  //   //   subtitle.style.color = '#29b6f6';\n  //   // } else {\n  //   //   subtitle.style.color = '#f00';\n  //   // }\n  // }\n  // function closeModal() {\n  //   setIsOpen(false);\n  // }\n\n  /*End modal*/\n  const titleInit = (str1, str2, str3) => {\n    return __jsx(\"div\", {\n      className: \"tags has-addons\",\n      style: {\n        marginBottom: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, __jsx(\"span\", {\n      className: \"tag is-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, __jsx(\"i\", {\n      className: \"fas fa-watch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    })), __jsx(\"span\", {\n      className: \"tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, str1, \"\\xA0\", __jsx(\"strong\", {\n      className: \"has-text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 23\n      }\n    }, str2), \"\\xA0\", str3));\n  };\n\n  const {\n    0: title,\n    1: setTitle\n  } = useState(titleInit(\"สำหรับพิมพ์สลิปเงินเดือน \", \"รายบุคคล\", \"ข้าราชการตุลาการ\"));\n  const {\n    0: selectLogin,\n    1: setSelectLogin\n  } = useState(\"ผู้พิพากษา\");\n  const {\n    0: inputs,\n    1: setInputs\n  } = useState({\n    username: \"\",\n    password: \"\"\n  }); // const [modalText, setModalText] = useState(\"\");\n  // const [responseStatus, setResponseStatus] = useState(false);\n\n  const {\n    0: resError,\n    1: setResError\n  } = useState({\n    status: false\n  });\n  const {\n    0: login,\n    1: setLogin\n  } = useState({\n    status: false\n  });\n\n  const handleChange = e => {\n    console.log(e.target);\n    setInputs(_objectSpread({}, inputs, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLogin({\n      status: true\n    });\n\n    if (inputs.username && inputs.password) {\n      var url = \"http://localhost:8888/api/v1/auth\";\n      var payload = JSON.stringify(inputs);\n      console.log(payload);\n      await fetch.post(url, payload).then(function (response) {\n        console.log(\"#### RESPONSE ####\");\n        console.log(response); //Set error status = false\n\n        setResError({\n          status: false\n        });\n        setLoging({\n          status: false\n        }); //setRedirect({ status: true })\n\n        localStorage.setItem(\"user\", response.data.user.username); // localStorage.setItem(\"token\", response.data.token);\n        // let user = localStorage.getItem(\"user\");\n        // let token = localStorage.getItem(\"token\");\n\n        console.log(user); // console.log(token);\n\n        dispatch({\n          type: \"LOGIN\",\n          payload: {\n            user // token,\n\n          }\n        });\n      }).catch(function (error) {\n        console.log(\"#### ERROR ####\");\n        console.log(error.response.data.full_messages[0]);\n        console.log(error.response.data.full_messages[1]); //Set error status = true\n\n        setResError({\n          status: true\n        });\n        setLogin({\n          status: false\n        });\n\n        if (error.response.data.full_messages[1]) {\n          ToastsStore.error(\"Error : \" + error.response.data.full_messages[0] + \"\" + error.response.data.full_messages[1]);\n        } else {\n          ToastsStore.error(\"Error : \" + error.response.data.full_messages[0]);\n        }\n      });\n    } //   var sendData = { ...inputs};\n    //   sendData.username = \"ZmFywQ\";\n    //   sendData.password = \"rpGyudZB\";\n    //   const payload = JSON.stringify(sendData);\n    //   console.log(payload);\n    //   const response = await fetch(\n    //     \"http://localhost:8888/api/v1/auth\",\n    //   {\n    //     method: \"POST\",\n    //     headers: {\n    //       Accept: \"application/json\",\n    //       \"Content-Type\": \"application/json\",\n    //     },\n    //     body: payload,\n    //   }\n    //   );\n    //   const results = await response.json();\n    // //Open modal & set text\n    // setIsOpen(true);\n    // if (results.status == 200) {\n    //   console.log(results);\n    //   setResponseStatus(true);\n    //   setModalText(`${results.message}`);\n    // } else {\n    //   console.log(results);\n    //   setResponseStatus(false);\n    //   setModalText(\" Username & Password ไม่ถูกต้อง !!!!\");\n    // }\n\n  };\n\n  const handleClick = e => {\n    if (e.target.dataset.value == \"2\") {\n      setTitle(titleInit(\"สำหรับ \", \"เจ้าหน้าที่ \", \"พิมพ์สลิปเงินเดือนข้าราชการตุลาการทั้งหน่วยงาน\"));\n      setSelectLogin(\"เจ้าหน้าที่\");\n    } else {\n      setTitle(titleInit(\"สำหรับพิมพ์สลิปเงินเดือน \", \"รายบุคคล\", \"ข้าราชการตุลาการ\"));\n      setSelectLogin(\"ผู้พิพากษา\");\n    }\n  };\n\n  return __jsx(MainHOC, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 5\n    }\n  }, resError.status && __jsx(ToastsContainer, {\n    store: ToastsStore,\n    position: ToastsContainerPosition.TOP_RIGHT,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"hero-body is-fullheight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"columns is-vcentered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"column is-6 is-offset-1 landing-caption\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"/static/images/logo.png\",\n    alt: \"Logo\",\n    width: \"300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }), __jsx(\"h2\", {\n    className: \"subtitle is-5 is-muted\",\n    style: {\n      marginTop: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 15\n    }\n  }, \"\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E1E\\u0E34\\u0E21\\u0E1E\\u0E4C\\u0E2A\\u0E25\\u0E34\\u0E1B\\u0E40\\u0E07\\u0E34\\u0E19\\u0E40\\u0E14\\u0E37\\u0E2D\\u0E19\", __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 39\n    }\n  }, \" \\u0E02\\u0E49\\u0E32\\u0E23\\u0E32\\u0E0A\\u0E01\\u0E32\\u0E23\\u0E15\\u0E38\\u0E25\\u0E32\\u0E01\\u0E32\\u0E23 \"), \"\\u0E28\\u0E32\\u0E25\\u0E22\\u0E38\\u0E15\\u0E34\\u0E18\\u0E23\\u0E23\\u0E21\"), __jsx(\"div\", {\n    className: \"button-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    className: \"button cta is-rounded primary-btn raised\",\n    onClick: handleClick,\n    \"data-value\": \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }, \"\\u0E1C\\u0E39\\u0E49\\u0E1E\\u0E34\\u0E1E\\u0E32\\u0E01\\u0E29\\u0E32\"), __jsx(\"a\", {\n    className: \"button cta is-rounded\",\n    onClick: handleClick,\n    \"data-value\": \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, \"\\u0E40\\u0E08\\u0E49\\u0E32\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E17\\u0E35\\u0E48\"))), __jsx(\"div\", {\n    className: \"is-divider-vertical\",\n    \"data-content\": \"OR\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"column is-5 text-align-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 15\n    }\n  }, __jsx(\"h2\", {\n    className: \"subtitle\",\n    style: {\n      marginTop: 20,\n      color: \"#f39200\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  }, \"\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E1E\\u0E34\\u0E21\\u0E1E\\u0E4C\\u0E2A\\u0E25\\u0E34\\u0E1B\\u0E40\\u0E07\\u0E34\\u0E19\\u0E40\\u0E14\\u0E37\\u0E2D\\u0E19 \", __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 42\n    }\n  }, \"\\u0E02\\u0E49\\u0E32\\u0E23\\u0E32\\u0E0A\\u0E01\\u0E32\\u0E23\\u0E15\\u0E38\\u0E25\\u0E32\\u0E01\\u0E32\\u0E23\"), \" \\u0E28\\u0E32\\u0E25\\u0E22\\u0E38\\u0E15\\u0E34\\u0E18\\u0E23\\u0E23\\u0E21\"), __jsx(\"article\", {\n    className: \"panel is-warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: \"panel-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 19\n    }\n  }, \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A (\", selectLogin, \")\"), __jsx(\"div\", {\n    className: \"panel-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 19\n    }\n  }, __jsx(\"p\", {\n    className: \"control has-icons-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    className: \"input\",\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Username\",\n    autoComplete: \"username\",\n    value: inputs.username,\n    required: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 23\n    }\n  }), __jsx(\"span\", {\n    className: \"icon is-small is-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 23\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 25\n    }\n  })))), __jsx(\"div\", {\n    className: \"panel-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 19\n    }\n  }, __jsx(\"p\", {\n    className: \"control has-icons-left has-icons-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    className: \"input\",\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    autoComplete: \"password\",\n    value: inputs.password,\n    required: true,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 23\n    }\n  }), __jsx(\"span\", {\n    className: \"icon is-small is-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 23\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-lock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 25\n    }\n  })), __jsx(\"span\", {\n    className: \"icon is-small is-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 23\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-eye\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 25\n    }\n  })))), __jsx(\"div\", {\n    className: \"panel-block is-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"buttons is-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 21\n    }\n  }, __jsx(\"button\", {\n    className: \"button is-link\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 23\n    }\n  }, login.status && {\n    selectLogin\n  }, \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\", \" \"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 23\n    }\n  }))))), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 15\n    }\n  }), __jsx(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 15\n    }\n  }, title))))));\n};\n\nexport default Index;","map":{"version":3,"sources":["D:/coj-payroll/pages/index.js"],"names":["React","useState","MainHOC","fetch","ToastsContainer","ToastsStore","ToastsContainerPosition","Index","props","titleInit","str1","str2","str3","marginBottom","title","setTitle","selectLogin","setSelectLogin","inputs","setInputs","username","password","resError","setResError","status","login","setLogin","handleChange","e","console","log","target","name","value","handleSubmit","preventDefault","url","payload","JSON","stringify","post","then","response","setLoging","localStorage","setItem","data","user","dispatch","type","catch","error","full_messages","handleClick","dataset","TOP_RIGHT","marginTop","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport MainHOC from \"../component/main.hoc\";\r\nimport fetch from \"unfetch\";\r\nimport {\r\n  ToastsContainer,\r\n  ToastsStore,\r\n  ToastsContainerPosition,\r\n} from \"react-toasts\";\r\n\r\n// const customStyles = {\r\n//   content: {\r\n//     top: \"50%\",\r\n//     left: \"50%\",\r\n//     right: \"auto\",\r\n//     bottom: \"center\",\r\n//     marginRight: \"-50%\",\r\n//     transform: \"translate(-50%, -50%)\",\r\n//   },\r\n// };\r\n// Modal.setAppElement(\"#my_modal\");\r\n\r\n// const modalRedText = { color: \"#f00\" };\r\n// const modalInfoText = { color: \"#29b6f6\" };\r\n\r\nconst Index = (props) => {\r\n  /*Start modal*/\r\n  // var subtitle;\r\n  // const [modalIsOpen, setIsOpen] = React.useState(false);\r\n  // function openModal() {\r\n  //   setIsOpen(true);\r\n  // }\r\n\r\n  // function afterOpenModal() {\r\n  //   // references are now sync'd and can be accessed.\r\n  //   // if (responseStatus) {\r\n  //   //   subtitle.style.color = '#29b6f6';\r\n  //   // } else {\r\n  //   //   subtitle.style.color = '#f00';\r\n  //   // }\r\n  // }\r\n\r\n  // function closeModal() {\r\n  //   setIsOpen(false);\r\n  // }\r\n  /*End modal*/\r\n\r\n  const titleInit = (str1, str2, str3) => {\r\n    return (\r\n      <div className=\"tags has-addons\" style={{ marginBottom: 10 }}>\r\n        <span className=\"tag is-danger\">\r\n          <i className=\"fas fa-watch\" />\r\n        </span>\r\n        <span className=\"tag\">\r\n          {str1}&nbsp;<strong className=\"has-text-danger\">{str2}</strong>&nbsp;\r\n          {str3}\r\n        </span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const [title, setTitle] = useState(\r\n    titleInit(\"สำหรับพิมพ์สลิปเงินเดือน \", \"รายบุคคล\", \"ข้าราชการตุลาการ\")\r\n  );\r\n  const [selectLogin, setSelectLogin] = useState(\"ผู้พิพากษา\");\r\n\r\n  const [inputs, setInputs] = useState({ username: \"\", password: \"\" });\r\n  // const [modalText, setModalText] = useState(\"\");\r\n  // const [responseStatus, setResponseStatus] = useState(false);\r\n  const [resError, setResError] = useState({ status: false });\r\n  const [login, setLogin] = useState({ status: false });\r\n\r\n  const handleChange = (e) => {\r\n    console.log(e.target);\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    setLogin({ status: true });\r\n\r\n    if (inputs.username && inputs.password) {\r\n      var url = \"http://localhost:8888/api/v1/auth\";\r\n      var payload = JSON.stringify(inputs);\r\n      console.log(payload);\r\n      await fetch\r\n        .post(url, payload)\r\n        .then(function (response) {\r\n          console.log(\"#### RESPONSE ####\");\r\n          console.log(response);\r\n\r\n          //Set error status = false\r\n          setResError({ status: false });\r\n          setLoging({ status: false });\r\n          //setRedirect({ status: true })\r\n\r\n          localStorage.setItem(\"user\", response.data.user.username);\r\n          // localStorage.setItem(\"token\", response.data.token);\r\n\r\n          // let user = localStorage.getItem(\"user\");\r\n          // let token = localStorage.getItem(\"token\");\r\n\r\n          console.log(user);\r\n          // console.log(token);\r\n\r\n          dispatch({\r\n            type: \"LOGIN\",\r\n            payload: {\r\n              user,\r\n              // token,\r\n            },\r\n          });\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"#### ERROR ####\");\r\n          console.log(error.response.data.full_messages[0]);\r\n          console.log(error.response.data.full_messages[1]);\r\n\r\n          //Set error status = true\r\n          setResError({ status: true });\r\n          setLogin({ status: false });\r\n          if (error.response.data.full_messages[1]) {\r\n            ToastsStore.error(\r\n              \"Error : \" +\r\n                error.response.data.full_messages[0] +\r\n                \"\" +\r\n                error.response.data.full_messages[1]\r\n            );\r\n          } else {\r\n            ToastsStore.error(\r\n              \"Error : \" + error.response.data.full_messages[0]\r\n            );\r\n          }\r\n        });\r\n    }\r\n    //   var sendData = { ...inputs};\r\n\r\n    //   sendData.username = \"ZmFywQ\";\r\n    //   sendData.password = \"rpGyudZB\";\r\n\r\n    //   const payload = JSON.stringify(sendData);\r\n    //   console.log(payload);\r\n\r\n    //   const response = await fetch(\r\n    //     \"http://localhost:8888/api/v1/auth\",\r\n    //   {\r\n    //     method: \"POST\",\r\n    //     headers: {\r\n    //       Accept: \"application/json\",\r\n    //       \"Content-Type\": \"application/json\",\r\n    //     },\r\n    //     body: payload,\r\n    //   }\r\n    //   );\r\n    //   const results = await response.json();\r\n    // //Open modal & set text\r\n    // setIsOpen(true);\r\n    // if (results.status == 200) {\r\n    //   console.log(results);\r\n    //   setResponseStatus(true);\r\n    //   setModalText(`${results.message}`);\r\n    // } else {\r\n    //   console.log(results);\r\n    //   setResponseStatus(false);\r\n    //   setModalText(\" Username & Password ไม่ถูกต้อง !!!!\");\r\n    // }\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    if (e.target.dataset.value == \"2\") {\r\n      setTitle(\r\n        titleInit(\r\n          \"สำหรับ \",\r\n          \"เจ้าหน้าที่ \",\r\n          \"พิมพ์สลิปเงินเดือนข้าราชการตุลาการทั้งหน่วยงาน\"\r\n        )\r\n      );\r\n      setSelectLogin(\"เจ้าหน้าที่\");\r\n    } else {\r\n      setTitle(\r\n        titleInit(\"สำหรับพิมพ์สลิปเงินเดือน \", \"รายบุคคล\", \"ข้าราชการตุลาการ\")\r\n      );\r\n      setSelectLogin(\"ผู้พิพากษา\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainHOC>\r\n      {resError.status && (\r\n        <ToastsContainer\r\n          store={ToastsStore}\r\n          position={ToastsContainerPosition.TOP_RIGHT}\r\n        />\r\n      )}\r\n      <div className=\"hero-body is-fullheight\">\r\n        <div className=\"container\">\r\n          <div className=\"columns is-vcentered\">\r\n            <div className=\"column is-6 is-offset-1 landing-caption\">\r\n              <img src=\"/static/images/logo.png\" alt=\"Logo\" width=\"300\" />\r\n              <h2 className=\"subtitle is-5 is-muted\" style={{ marginTop: 20 }}>\r\n                ระบบพิมพ์สลิปเงินเดือน<strong> ข้าราชการตุลาการ </strong>\r\n                ศาลยุติธรรม\r\n              </h2>\r\n              <div className=\"button-wrap\">\r\n                <a\r\n                  className=\"button cta is-rounded primary-btn raised\"\r\n                  onClick={handleClick}\r\n                  data-value=\"1\"\r\n                >\r\n                  ผู้พิพากษา\r\n                </a>\r\n                <a\r\n                  className=\"button cta is-rounded\"\r\n                  onClick={handleClick}\r\n                  data-value=\"2\"\r\n                >\r\n                  เจ้าหน้าที่\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div className=\"is-divider-vertical\" data-content=\"OR\"></div>\r\n\r\n            <div className=\"column is-5 text-align-top\">\r\n              <div>\r\n                <h2\r\n                  className=\"subtitle\"\r\n                  style={{ marginTop: 20, color: \"#f39200\" }}\r\n                >\r\n                  ระบบพิมพ์สลิปเงินเดือน <a>ข้าราชการตุลาการ</a> ศาลยุติธรรม\r\n                </h2>\r\n                <article className=\"panel is-warning\">\r\n                  <p className=\"panel-heading\">เข้าสู่ระบบ ({selectLogin})</p>\r\n\r\n                  <div className=\"panel-block\">\r\n                    <p className=\"control has-icons-left\">\r\n                      <input\r\n                        className=\"input\"\r\n                        type=\"text\"\r\n                        name=\"username\"\r\n                        placeholder=\"Username\"\r\n                        autoComplete=\"username\"\r\n                        value={inputs.username}\r\n                        required\r\n                        onChange={handleChange}\r\n                      />\r\n                      <span className=\"icon is-small is-left\">\r\n                        <i className=\"fas fa-user\" />\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"panel-block\">\r\n                    <p className=\"control has-icons-left has-icons-right\">\r\n                      <input\r\n                        className=\"input\"\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        placeholder=\"Password\"\r\n                        autoComplete=\"password\"\r\n                        value={inputs.password}\r\n                        required\r\n                        onChange={handleChange}\r\n                      />\r\n                      <span className=\"icon is-small is-left\">\r\n                        <i className=\"fas fa-lock\" />\r\n                      </span>\r\n\r\n                      <span className=\"icon is-small is-right\">\r\n                        <i className=\"fas fa-eye\" />\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"panel-block is-right\">\r\n                    <div className=\"buttons is-right\">\r\n                      <button className=\"button is-link\" onClick={handleSubmit}>\r\n                        {login.status && ({selectLogin})}\r\n                        เข้าสู่ระบบ{\" \"}\r\n                      </button>\r\n                      <br />\r\n                    </div>\r\n                  </div>\r\n                </article>\r\n              </div>\r\n              <hr></hr>\r\n              <div className=\"field\">{title}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </MainHOC>\r\n  );\r\n};\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}